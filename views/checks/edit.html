<div class="page-header">
    <div class="row">
        <div class="col-sm-10">
            <h2>Edit Check</h2>
        </div>
        <div class="col-sm-2 text-right mt-30">
            <button type="button" id="delete-check-button" class="btn btn-danger" data-toggle="modal" data-target="#delete-modal">Delete Check</button>
        </div>
    </div>
</div>

<ol class="breadcrumb">
    <li><a href="/dashboard">Dashboard</a></li>
    <li><a href="checks/all">Checks</a></li>
    <li class="active">Edit Check</li>
</ol>

<div class="row">
    <div class="col-sm-8 col-sm-offset-2">
        <form action="/api/checks" method="post" class="mt-30" id="check-edit-form">
            <input type="hidden" name="_method" value="PUT">
            
            <div class="alert-container" id="alert-edit-check" role="alert"></div>

            <input type="hidden" class="hiddenCheckId" name="check">

            <div class="row">
                <div class="col-sm-3">
                    <div class="form-group">
                        <label for="httpMethod">HTTP Method</label>
                        <select class="form-control" name="httpMethod" id="httpMethod" required>
                            <option value="get">GET</option>
                            <option value="post">POST</option>
                            <option value="put">PUT</option>
                            <option value="delete">DELETE</option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-3">
                    <div class="form-group">
                        <label for="protocol">Protocol</label>
                        <select class="form-control" id="protocol" name="protocol" required>
                            <option value="">Select Protocol</option>
                            <option value="https">https://</option>
                            <option value="http">http://</option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group">
                        <label for="url">URL (not including Protocol)</label>
                        <input type="text" class="form-control" name="url" id="url" min="3" placeholder="example.com/my/path"
                            required>
                    </div>
                </div>
            </div>
            <div class="row mt-20">
                <div class="col-sm-3">
                    <div class="form-group">
                        <label for="timeoutSeconds">Timeout</label>
                        <select id="timeoutSeconds" class="form-control" name="timeoutSeconds" required>
                            <option value="1">1 second</option>
                            <option value="2">2 seconds</option>
                            <option value="3">3 seconds</option>
                            <option value="4">4 seconds</option>
                            <option value="5">5 seconds</option>
                        </select>
                    </div>
                </div>
                <div class="col-sm-9">
                    <div class="form-group">
                        <label for="successCodes">Success Codes (HTTP codes that should represent "up")</label>
                        <div class="checkbox-group pt-10">
                            <div class="checkbox-inline mr-10">
                                <label><input type="checkbox" class="multiSelect intVal" name="successCodes" value="200">200</label>
                            </div>
                            <div class="checkbox-inline mr-10">
                                <label><input type="checkbox" class="multiSelect intVal" name="successCodes" value="201">201</label>
                            </div>
                            <div class="checkbox-inline mr-10">
                                <label><input type="checkbox" class="multiSelect intVal" name="successCodes" value="301">301</label>
                            </div>
                            <div class="checkbox-inline mr-10">
                                <label><input type="checkbox" class="multiSelect intVal" name="successCodes" value="302">302</label>
                            </div>
                            <div class="checkbox-inline mr-10">
                                <label><input type="checkbox" class="multiSelect intVal" name="successCodes" value="400">400</label>
                            </div>
                            <div class="checkbox-inline mr-10">
                                <label><input type="checkbox" class="multiSelect intVal" name="successCodes" value="403">403</label>
                            </div>
                            <div class="checkbox-inline mr-10">
                                <label><input type="checkbox" class="multiSelect intVal" name="successCodes" value="406">406</label>
                            </div>
                            <div class="checkbox-inline">
                                <label><input type="checkbox" class="multiSelect intVal" name="successCodes" value="500">500</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="text-center mt-20">
                <button type="submit" class="btn btn-lg btn-primary">Update Check</button>
            </div>
        </form>
    </div>
</div>

<div class="modal fade" id="delete-modal" tabindex="-1" role="dialog">
    <form action="/api/checks" id="checks-delete" method="post">
        <input type="hidden" name="_method" value="DELETE">

        <input type="hidden" name="check" class="hiddenCheckId">

        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Are you sure you want to delete this check?</h4>
                </div>
                <div class="modal-body">
                    <div class="alert-container" id="alert-password" role="alert"></div>

                    <p>Once this check is deleted, you can no longer have access to it.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-danger">Delete Check</button>
                </div>
            </div>
        </div>
    </form>
</div>
